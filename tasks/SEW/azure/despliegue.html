<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informe de Despliegue - Proyecto MotoGP Desktop</title>
    <link rel="stylesheet" href="/web-to-pdf/css/styles.css">
</head>
<body>
    <article>
        <header>
            <h1>INFORME DE DESPLIEGUE - PROYECTO MOTO GP DESKTOP</h1>
            <p><strong>Despliegue en Azure Cloud Computing</strong></p>
            <p>Universidad de Oviedo - Software Y Estandares Para La Web - 2025</p>
            
            <nav aria-label="Navegación principal">
                <a href="#inicio">Inicio</a> | 
                <a href="#creacion-vm">Creación VM</a> | 
                <a href="#apache-estatico">Apache Estático</a> | 
                <a href="#lamp-completo">LAMP Completo</a> | 
                <a href="#base-datos">Base Datos</a> | 
                <a href="#verificacion">Verificación</a> | 
                <a href="#limpieza">Limpieza</a>
            </nav>
        </header>

        <section id="inicio">
            <h2>1. Introducción</h2>
            <p>Este informe documenta el despliegue completo del proyecto MotoGP-Desktop en una instancia Ubuntu Linux de Azure, incluyendo instalación de Apache, PHP 8.1+ y MySQL 8.0+ con verificación de funcionalidad dinámica.</p>
        </section>

        <section id="creacion-vm">
            <h2>2. Creación de la Máquina Virtual</h2>
            <p>Se ejecutaron los siguientes comandos para crear el grupo de recursos y la máquina virtual Ubuntu en Azure:</p>
            <pre><code>az group create --name MotoGP_ResourceGroup --location westeurope
az vm create --resource-group MotoGP_ResourceGroup --name MotoGP-VM --image Ubuntu2204 --admin-username azureuser --generate-ssh-keys --public-ip-sku Standard --size Standard_B1s
az vm open-port --port 80 --resource-group MotoGP_ResourceGroup --name MotoGP-VM</code></pre>
            <figure>
                <img src="captura1.png" alt="Overview de la máquina virtual MotoGP-VM en Azure Portal mostrando IP pública 172.211.72.245 y estado Running">
                <figcaption>Figura 1: Máquina virtual MotoGP-VM creada exitosamente (IP: 172.211.72.245)</figcaption>
            </figure>
        </section>

        <section id="apache-estatico">
            <h2>3. Instalación Apache y Despliegue Estático</h2>
            <p>Se instaló Apache y se desplegaron los archivos estáticos del proyecto MotoGP-Desktop:</p>
            <pre><code>sudo apt update && sudo apt install apache2 -y
scp -r ./MotoGP-Desktop/* azureuser@172.211.72.245:/tmp/
sudo rm /var/www/html/index.html
sudo mv /tmp/* /var/www/html/</code></pre>
            <figure>
                <img src="captura2.png" alt="Interfaz MotoGP-Desktop cargada estáticamente en el navegador desde Apache">
                <figcaption>Figura 2: Interfaz MotoGP-Desktop funcionando en Apache (HTML/CSS/JS)</figcaption>
            </figure>
        </section>

        <section id="lamp-completo">
            <h2>4. Instalación LAMP Completo</h2>
            <p>Se completó la instalación del stack LAMP con PHP y MySQL, verificando las versiones instaladas:</p>
            <pre><code>sudo apt install mysql-server php libapache2-mod-php php-mysql -y
sudo systemctl restart apache2
php -v && mysql --version</code></pre>
            <figure>
                <img src="captura3.png" alt="Consola mostrando versiones de PHP 8.1+ y MySQL 8.0+ instaladas">
                <figcaption>Figura 3: Versiones PHP 8.1+ y MySQL 8.0+ instaladas y compatibles</figcaption>
            </figure>
        </section>

        <section id="base-datos">
            <h2>5. Configuración Base de Datos</h2>
            <p>Se configuró la base de datos MySQL ejecutando los siguientes comandos:</p>
            <pre><code>CREATE DATABASE UO295106_DB;
CREATE USER 'DBUSER2025'@'localhost' IDENTIFIED BY 'DBPSWD2025';
GRANT ALL PRIVILEGES ON *.* TO 'DBUSER2025'@'localhost' WITH GRANT OPTION;
FLUSH PRIVILEGES;</code></pre>
            <p>Posteriormente se importó el esquema: <code>sudo mysql UO295106_DB &lt; /var/www/html/php/esquema.sql</code></p>
            <figure>
                <img src="captura4.png" alt="Consola MySQL mostrando Query OK para el GRANT de privilegios al usuario DBUSER2025">
                <figcaption>Figura 4: Usuario DBUSER2025 creado con privilegios administrativos completos</figcaption>
            </figure>
        </section>

        <section id="verificacion">
            <h2>6. Verificación Funcionalidad Completa</h2>
            <p>Se verificó el funcionamiento de la aplicación PHP junto al acceso a la base de datos MySQL.</p>
            <figure>
                <img src="captura5.png" alt="Navegador mostrando datos dinámicos de pilotos y carreras cargados desde MySQL en la aplicación MotoGP-Desktop">
                <figcaption>Figura 5: Aplicación funcional con PHP</figcaption>
            </figure>
            <figure>
                <img src="captura6.png" alt="Navegador mostrando panel de control de la base de datos MySQL en la aplicación MotoGP-Desktop">
                <figcaption>Figura 6: Aplicación funcional con PHP + MySQL</figcaption>
            </figure>
        </section>

        <section id="limpieza">
            <h2>7. Limpieza de Recursos</h2>
            <p>Se eliminaron todos los recursos creados para evitar consumo innecesario de crédito Azure:</p>
            <pre><code>az group delete --name MotoGP_ResourceGroup --yes --no-wait</code></pre>
            <p>Todos los recursos eliminados para evitar consumo de crédito Azure.</p>
        </section>

        <footer>
            <p>Despliegue completado satisfactoriamente el 22/12/2025</p>
            <p>Capturas realizadas durante proceso real de despliegue</p>
        </footer>
    </article>
</body>
</html>
